{"version":3,"sources":["webpack:///webpack/bootstrap 4acd2bba48da9802187b","webpack:///./src/index.js","webpack:///./~/riot/riot.js","webpack:///./~/riotcontrol/riotcontrol.js","webpack:///./src/pte.less?d93e","webpack:///./src/pte.less","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/pte-app.js","webpack:///./src/pte-constants.js","webpack:///external \"jQuery\"","webpack:///./src/pte-editor.js","webpack:///./src/pte-editor-menu.js","webpack:///./src/pte-thumbnail-selector.js","webpack:///./src/pte-store.js"],"names":[],"mappings":"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ACb;;AAEA;AACA,UAAS;AACT;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,gBAAe,uBAAuB;;AAEtC;AACA;AACA;AACA;;AAEA,iCAAgC,iCAAiC;AACjE,kBAAiB,oBAAoB;;AAErC,MAAK;;AAEL;AACA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAgB,iDAAiD,EAAE;;AAEnE;AACA;AACA;AACA;AACA,oBAAmB,GAAG;AACtB,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,mDAAkD,0BAA0B;AAC5E;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,sCAAqC,yCAAyC;;AAE9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,kBAAkB;;AAEvB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA,6BAA4B,uCAAuC;AACnE,gCAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA,MAAK;AACL;;AAEA,mBAAkB,OAAO;AACzB,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA,gDAA+C,SAAS;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6BAA4B,4BAA4B;AACxD;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iDAAgD,GAAG,GAAG;;AAEtD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB;AAChB;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wCAAuC,yBAAyB;;AAEhE;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;;AAEA;AACA,gBAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,mDAAuB,8BAA8B;AACrD;AACA;;AAEA,EAAC;;;;;;;ACz1CD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;AChBA;;AAEA;AACA;AACA;AACA;AACA,gDAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,iCAAgC,uBAAuB,GAAG,oEAAoE,kBAAkB,GAAG,WAAW,0BAA0B,GAAG,iCAAiC,cAAc,GAAG,gBAAgB,uBAAuB,GAAG,cAAc,mBAAmB,iBAAiB,uBAAuB,GAAG,oBAAoB,mBAAmB,gBAAgB,kBAAkB,uBAAuB,uBAAuB,GAAG,kEAAkE,gBAAgB,GAAG,6BAA6B,sBAAsB,2BAA2B,GAAG,sCAAsC,qBAAqB,GAAG,qDAAqD,oBAAoB,qBAAqB,GAAG,mBAAmB,2BAA2B,mBAAmB,iBAAiB,gBAAgB,uBAAuB,GAAG,sBAAsB,eAAe,0BAA0B,GAAG,yBAAyB,yBAAyB,GAAG,yDAAyD,mBAAmB,0BAA0B,iBAAiB,GAAG,6BAA6B,kBAAkB,GAAG,kCAAkC,oBAAoB,wBAAwB,GAAG,wBAAwB,eAAe,wBAAwB,GAAG,UAAU,gBAAgB,sBAAsB,8BAA8B,qBAAqB,GAAG,gBAAgB,oBAAoB,GAAG,yBAAyB,qCAAqC,sBAAsB,GAAG,aAAa,qCAAqC,GAAG,sBAAsB,8BAA8B,GAAG,iDAAiD,8BAA8B,GAAG,0DAA0D,8BAA8B,GAAG,yBAAyB,2BAA2B,GAAG,uDAAuD,2BAA2B,GAAG,aAAa,sBAAsB,GAAG;;AAEngE;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AA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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4acd2bba48da9802187b\n **/","'use strict';\n\nvar riot = require('riot');\nvar rc = require('riotcontrol');\nvar css = require('./pte.less');\n\n// Riot Tags\nvar pte_app = require('./pte-app.js');\nvar editor = require('./pte-editor.js');\nvar editor_menu = require('./pte-editor-menu.js');\nvar thumbnails = require('./pte-thumbnail-selector.js');\n\nvar PteStore = require('./pte-store.js');\n\nlet store = new PteStore();\nrc.addStore(store);\n\nriot.mount('*', {store: store});\nstore.init()\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/* Riot v2.2.4, @license MIT, (c) 2015 Muut Inc. + contributors */\n\n;(function(window, undefined) {\n  'use strict';\nvar riot = { version: 'v2.2.4', settings: {} },\n  //// be aware, internal usage\n\n  // counter to give a unique id to all the Tag instances\n  __uid = 0,\n\n  // riot specific prefixes\n  RIOT_PREFIX = 'riot-',\n  RIOT_TAG = RIOT_PREFIX + 'tag',\n\n  // for typeof == '' comparisons\n  T_STRING = 'string',\n  T_OBJECT = 'object',\n  T_UNDEF  = 'undefined',\n  T_FUNCTION = 'function',\n  // special native tags that cannot be treated like the others\n  SPECIAL_TAGS_REGEX = /^(?:opt(ion|group)|tbody|col|t[rhd])$/,\n  RESERVED_WORDS_BLACKLIST = ['_item', '_id', 'update', 'root', 'mount', 'unmount', 'mixin', 'isMounted', 'isLoop', 'tags', 'parent', 'opts', 'trigger', 'on', 'off', 'one'],\n\n  // version# for IE 8-11, 0 for others\n  IE_VERSION = (window && window.document || {}).documentMode | 0,\n\n  // Array.isArray for IE8 is in the polyfills\n  isArray = Array.isArray\n\nriot.observable = function(el) {\n\n  el = el || {}\n\n  var callbacks = {},\n      _id = 0\n\n  el.on = function(events, fn) {\n    if (isFunction(fn)) {\n      if (typeof fn.id === T_UNDEF) fn._id = _id++\n\n      events.replace(/\\S+/g, function(name, pos) {\n        (callbacks[name] = callbacks[name] || []).push(fn)\n        fn.typed = pos > 0\n      })\n    }\n    return el\n  }\n\n  el.off = function(events, fn) {\n    if (events == '*') callbacks = {}\n    else {\n      events.replace(/\\S+/g, function(name) {\n        if (fn) {\n          var arr = callbacks[name]\n          for (var i = 0, cb; (cb = arr && arr[i]); ++i) {\n            if (cb._id == fn._id) arr.splice(i--, 1)\n          }\n        } else {\n          callbacks[name] = []\n        }\n      })\n    }\n    return el\n  }\n\n  // only single event supported\n  el.one = function(name, fn) {\n    function on() {\n      el.off(name, on)\n      fn.apply(el, arguments)\n    }\n    return el.on(name, on)\n  }\n\n  el.trigger = function(name) {\n    var args = [].slice.call(arguments, 1),\n        fns = callbacks[name] || []\n\n    for (var i = 0, fn; (fn = fns[i]); ++i) {\n      if (!fn.busy) {\n        fn.busy = 1\n        fn.apply(el, fn.typed ? [name].concat(args) : args)\n        if (fns[i] !== fn) { i-- }\n        fn.busy = 0\n      }\n    }\n\n    if (callbacks.all && name != 'all') {\n      el.trigger.apply(el, ['all', name].concat(args))\n    }\n\n    return el\n  }\n\n  return el\n\n}\nriot.mixin = (function() {\n  var mixins = {}\n\n  return function(name, mixin) {\n    if (!mixin) return mixins[name]\n    mixins[name] = mixin\n  }\n\n})()\n\n;(function(riot, evt, win) {\n\n  // browsers only\n  if (!win) return\n\n  var loc = win.location,\n      fns = riot.observable(),\n      started = false,\n      current\n\n  function hash() {\n    return loc.href.split('#')[1] || ''   // why not loc.hash.splice(1) ?\n  }\n\n  function parser(path) {\n    return path.split('/')\n  }\n\n  function emit(path) {\n    if (path.type) path = hash()\n\n    if (path != current) {\n      fns.trigger.apply(null, ['H'].concat(parser(path)))\n      current = path\n    }\n  }\n\n  var r = riot.route = function(arg) {\n    // string\n    if (arg[0]) {\n      loc.hash = arg\n      emit(arg)\n\n    // function\n    } else {\n      fns.on('H', arg)\n    }\n  }\n\n  r.exec = function(fn) {\n    fn.apply(null, parser(hash()))\n  }\n\n  r.parser = function(fn) {\n    parser = fn\n  }\n\n  r.stop = function () {\n    if (started) {\n      if (win.removeEventListener) win.removeEventListener(evt, emit, false) //@IE8 - the if()\n      else win.detachEvent('on' + evt, emit) //@IE8\n      fns.off('*')\n      started = false\n    }\n  }\n\n  r.start = function () {\n    if (!started) {\n      if (win.addEventListener) win.addEventListener(evt, emit, false) //@IE8 - the if()\n      else win.attachEvent('on' + evt, emit) //IE8\n      started = true\n    }\n  }\n\n  // autostart the router\n  r.start()\n\n})(riot, 'hashchange', window)\n/*\n\n//// How it works?\n\n\nThree ways:\n\n1. Expressions: tmpl('{ value }', data).\n   Returns the result of evaluated expression as a raw object.\n\n2. Templates: tmpl('Hi { name } { surname }', data).\n   Returns a string with evaluated expressions.\n\n3. Filters: tmpl('{ show: !done, highlight: active }', data).\n   Returns a space separated list of trueish keys (mainly\n   used for setting html classes), e.g. \"show highlight\".\n\n\n// Template examples\n\ntmpl('{ title || \"Untitled\" }', data)\ntmpl('Results are { results ? \"ready\" : \"loading\" }', data)\ntmpl('Today is { new Date() }', data)\ntmpl('{ message.length > 140 && \"Message is too long\" }', data)\ntmpl('This item got { Math.round(rating) } stars', data)\ntmpl('<h1>{ title }</h1>{ body }', data)\n\n\n// Falsy expressions in templates\n\nIn templates (as opposed to single expressions) all falsy values\nexcept zero (undefined/null/false) will default to empty string:\n\ntmpl('{ undefined } - { false } - { null } - { 0 }', {})\n// will return: \" - - - 0\"\n\n*/\n\n\nvar brackets = (function(orig) {\n\n  var cachedBrackets,\n      r,\n      b,\n      re = /[{}]/g\n\n  return function(x) {\n\n    // make sure we use the current setting\n    var s = riot.settings.brackets || orig\n\n    // recreate cached vars if needed\n    if (cachedBrackets !== s) {\n      cachedBrackets = s\n      b = s.split(' ')\n      r = b.map(function (e) { return e.replace(/(?=.)/g, '\\\\') })\n    }\n\n    // if regexp given, rewrite it with current brackets (only if differ from default)\n    return x instanceof RegExp ? (\n        s === orig ? x :\n        new RegExp(x.source.replace(re, function(b) { return r[~~(b === '}')] }), x.global ? 'g' : '')\n      ) :\n      // else, get specific bracket\n      b[x]\n  }\n})('{ }')\n\n\nvar tmpl = (function() {\n\n  var cache = {},\n      OGLOB = '\"in d?d:' + (window ? 'window).' : 'global).'),\n      reVars =\n      /(['\"\\/])(?:[^\\\\]*?|\\\\.|.)*?\\1|\\.\\w*|\\w*:|\\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\\b|function\\s*\\()|([A-Za-z_$]\\w*)/g\n\n  // build a template (or get it from cache), render with data\n  return function(str, data) {\n    return str && (cache[str] || (cache[str] = tmpl(str)))(data)\n  }\n\n\n  // create a template instance\n\n  function tmpl(s, p) {\n\n    if (s.indexOf(brackets(0)) < 0) {\n      // return raw text\n      s = s.replace(/\\n|\\r\\n?/g, '\\n')\n      return function () { return s }\n    }\n\n    // temporarily convert \\{ and \\} to a non-character\n    s = s\n      .replace(brackets(/\\\\{/g), '\\uFFF0')\n      .replace(brackets(/\\\\}/g), '\\uFFF1')\n\n    // split string to expression and non-expresion parts\n    p = split(s, extract(s, brackets(/{/), brackets(/}/)))\n\n    // is it a single expression or a template? i.e. {x} or <b>{x}</b>\n    s = (p.length === 2 && !p[0]) ?\n\n      // if expression, evaluate it\n      expr(p[1]) :\n\n      // if template, evaluate all expressions in it\n      '[' + p.map(function(s, i) {\n\n        // is it an expression or a string (every second part is an expression)\n        return i % 2 ?\n\n          // evaluate the expressions\n          expr(s, true) :\n\n          // process string parts of the template:\n          '\"' + s\n\n            // preserve new lines\n            .replace(/\\n|\\r\\n?/g, '\\\\n')\n\n            // escape quotes\n            .replace(/\"/g, '\\\\\"') +\n\n          '\"'\n\n      }).join(',') + '].join(\"\")'\n\n    return new Function('d', 'return ' + s\n      // bring escaped { and } back\n      .replace(/\\uFFF0/g, brackets(0))\n      .replace(/\\uFFF1/g, brackets(1)) + ';')\n\n  }\n\n\n  // parse { ... } expression\n\n  function expr(s, n) {\n    s = s\n\n      // convert new lines to spaces\n      .replace(/\\n|\\r\\n?/g, ' ')\n\n      // trim whitespace, brackets, strip comments\n      .replace(brackets(/^[{ ]+|[ }]+$|\\/\\*.+?\\*\\//g), '')\n\n    // is it an object literal? i.e. { key : value }\n    return /^\\s*[\\w- \"']+ *:/.test(s) ?\n\n      // if object literal, return trueish keys\n      // e.g.: { show: isOpen(), done: item.done } -> \"show done\"\n      '[' +\n\n          // extract key:val pairs, ignoring any nested objects\n          extract(s,\n\n              // name part: name:, \"name\":, 'name':, name :\n              /[\"' ]*[\\w- ]+[\"' ]*:/,\n\n              // expression part: everything upto a comma followed by a name (see above) or end of line\n              /,(?=[\"' ]*[\\w- ]+[\"' ]*:)|}|$/\n              ).map(function(pair) {\n\n                // get key, val parts\n                return pair.replace(/^[ \"']*(.+?)[ \"']*: *(.+?),? *$/, function(_, k, v) {\n\n                  // wrap all conditional parts to ignore errors\n                  return v.replace(/[^&|=!><]+/g, wrap) + '?\"' + k + '\":\"\",'\n\n                })\n\n              }).join('') +\n\n        '].join(\" \").trim()' :\n\n      // if js expression, evaluate as javascript\n      wrap(s, n)\n\n  }\n\n\n  // execute js w/o breaking on errors or undefined vars\n\n  function wrap(s, nonull) {\n    s = s.trim()\n    return !s ? '' : '(function(v){try{v=' +\n\n      // prefix vars (name => data.name)\n      s.replace(reVars, function(s, _, v) { return v ? '((\"' + v + OGLOB + v + ')' : s }) +\n\n      // default to empty string for falsy values except zero\n      '}catch(e){}return ' + (nonull === true ? '!v&&v!==0?\"\":v' : 'v') + '}).call(d)'\n  }\n\n\n  // split string by an array of substrings\n\n  function split(str, substrings) {\n    var parts = []\n    substrings.map(function(sub, i) {\n\n      // push matched expression and part before it\n      i = str.indexOf(sub)\n      parts.push(str.slice(0, i), sub)\n      str = str.slice(i + sub.length)\n    })\n    if (str) parts.push(str)\n\n    // push the remaining part\n    return parts\n  }\n\n\n  // match strings between opening and closing regexp, skipping any inner/nested matches\n\n  function extract(str, open, close) {\n\n    var start,\n        level = 0,\n        matches = [],\n        re = new RegExp('(' + open.source + ')|(' + close.source + ')', 'g')\n\n    str.replace(re, function(_, open, close, pos) {\n\n      // if outer inner bracket, mark position\n      if (!level && open) start = pos\n\n      // in(de)crease bracket level\n      level += open ? 1 : -1\n\n      // if outer closing bracket, grab the match\n      if (!level && close != null) matches.push(str.slice(start, pos + close.length))\n\n    })\n\n    return matches\n  }\n\n})()\n\n/*\n  lib/browser/tag/mkdom.js\n\n  Includes hacks needed for the Internet Explorer version 9 and bellow\n\n*/\n// http://kangax.github.io/compat-table/es5/#ie8\n// http://codeplanet.io/dropping-ie8/\n\nvar mkdom = (function (checkIE) {\n\n  var rootEls = {\n        'tr': 'tbody',\n        'th': 'tr',\n        'td': 'tr',\n        'tbody': 'table',\n        'col': 'colgroup'\n      },\n      GENERIC = 'div'\n\n  checkIE = checkIE && checkIE < 10\n\n  // creates any dom element in a div, table, or colgroup container\n  function _mkdom(html) {\n\n    var match = html && html.match(/^\\s*<([-\\w]+)/),\n        tagName = match && match[1].toLowerCase(),\n        rootTag = rootEls[tagName] || GENERIC,\n        el = mkEl(rootTag)\n\n    el.stub = true\n\n    if (checkIE && tagName && (match = tagName.match(SPECIAL_TAGS_REGEX)))\n      ie9elem(el, html, tagName, !!match[1])\n    else\n      el.innerHTML = html\n\n    return el\n  }\n\n  // creates tr, th, td, option, optgroup element for IE8-9\n  /* istanbul ignore next */\n  function ie9elem(el, html, tagName, select) {\n\n    var div = mkEl(GENERIC),\n        tag = select ? 'select>' : 'table>',\n        child\n\n    div.innerHTML = '<' + tag + html + '</' + tag\n\n    child = div.getElementsByTagName(tagName)[0]\n    if (child)\n      el.appendChild(child)\n\n  }\n  // end ie9elem()\n\n  return _mkdom\n\n})(IE_VERSION)\n\n// { key, i in items} -> { key, i, items }\nfunction loopKeys(expr) {\n  var b0 = brackets(0),\n      els = expr.trim().slice(b0.length).match(/^\\s*(\\S+?)\\s*(?:,\\s*(\\S+))?\\s+in\\s+(.+)$/)\n  return els ? { key: els[1], pos: els[2], val: b0 + els[3] } : { val: expr }\n}\n\nfunction mkitem(expr, key, val) {\n  var item = {}\n  item[expr.key] = key\n  if (expr.pos) item[expr.pos] = val\n  return item\n}\n\n\n/* Beware: heavy stuff */\nfunction _each(dom, parent, expr) {\n\n  remAttr(dom, 'each')\n\n  var tagName = getTagName(dom),\n      template = dom.outerHTML,\n      hasImpl = !!tagImpl[tagName],\n      impl = tagImpl[tagName] || {\n        tmpl: template\n      },\n      root = dom.parentNode,\n      placeholder = document.createComment('riot placeholder'),\n      tags = [],\n      child = getTag(dom),\n      checksum\n\n  root.insertBefore(placeholder, dom)\n\n  expr = loopKeys(expr)\n\n  // clean template code\n  parent\n    .one('premount', function () {\n      if (root.stub) root = parent.root\n      // remove the original DOM node\n      dom.parentNode.removeChild(dom)\n    })\n    .on('update', function () {\n      var items = tmpl(expr.val, parent)\n\n      // object loop. any changes cause full redraw\n      if (!isArray(items)) {\n\n        checksum = items ? JSON.stringify(items) : ''\n\n        items = !items ? [] :\n          Object.keys(items).map(function (key) {\n            return mkitem(expr, key, items[key])\n          })\n      }\n\n      var frag = document.createDocumentFragment(),\n          i = tags.length,\n          j = items.length\n\n      // unmount leftover items\n      while (i > j) {\n        tags[--i].unmount()\n        tags.splice(i, 1)\n      }\n\n      for (i = 0; i < j; ++i) {\n        var _item = !checksum && !!expr.key ? mkitem(expr, items[i], i) : items[i]\n\n        if (!tags[i]) {\n          // mount new\n          (tags[i] = new Tag(impl, {\n              parent: parent,\n              isLoop: true,\n              hasImpl: hasImpl,\n              root: SPECIAL_TAGS_REGEX.test(tagName) ? root : dom.cloneNode(),\n              item: _item\n            }, dom.innerHTML)\n          ).mount()\n\n          frag.appendChild(tags[i].root)\n        } else\n          tags[i].update(_item)\n\n        tags[i]._item = _item\n\n      }\n\n      root.insertBefore(frag, placeholder)\n\n      if (child) parent.tags[tagName] = tags\n\n    }).one('updated', function() {\n      var keys = Object.keys(parent)// only set new values\n      walk(root, function(node) {\n        // only set element node and not isLoop\n        if (node.nodeType == 1 && !node.isLoop && !node._looped) {\n          node._visited = false // reset _visited for loop node\n          node._looped = true // avoid set multiple each\n          setNamed(node, parent, keys)\n        }\n      })\n    })\n\n}\n\n\nfunction parseNamedElements(root, tag, childTags) {\n\n  walk(root, function(dom) {\n    if (dom.nodeType == 1) {\n      dom.isLoop = dom.isLoop || (dom.parentNode && dom.parentNode.isLoop || dom.getAttribute('each')) ? 1 : 0\n\n      // custom child tag\n      var child = getTag(dom)\n\n      if (child && !dom.isLoop) {\n        childTags.push(initChildTag(child, dom, tag))\n      }\n\n      if (!dom.isLoop)\n        setNamed(dom, tag, [])\n    }\n\n  })\n\n}\n\nfunction parseExpressions(root, tag, expressions) {\n\n  function addExpr(dom, val, extra) {\n    if (val.indexOf(brackets(0)) >= 0) {\n      var expr = { dom: dom, expr: val }\n      expressions.push(extend(expr, extra))\n    }\n  }\n\n  walk(root, function(dom) {\n    var type = dom.nodeType\n\n    // text node\n    if (type == 3 && dom.parentNode.tagName != 'STYLE') addExpr(dom, dom.nodeValue)\n    if (type != 1) return\n\n    /* element */\n\n    // loop\n    var attr = dom.getAttribute('each')\n\n    if (attr) { _each(dom, tag, attr); return false }\n\n    // attribute expressions\n    each(dom.attributes, function(attr) {\n      var name = attr.name,\n        bool = name.split('__')[1]\n\n      addExpr(dom, attr.value, { attr: bool || name, bool: bool })\n      if (bool) { remAttr(dom, name); return false }\n\n    })\n\n    // skip custom tags\n    if (getTag(dom)) return false\n\n  })\n\n}\nfunction Tag(impl, conf, innerHTML) {\n\n  var self = riot.observable(this),\n      opts = inherit(conf.opts) || {},\n      dom = mkdom(impl.tmpl),\n      parent = conf.parent,\n      isLoop = conf.isLoop,\n      hasImpl = conf.hasImpl,\n      item = cleanUpData(conf.item),\n      expressions = [],\n      childTags = [],\n      root = conf.root,\n      fn = impl.fn,\n      tagName = root.tagName.toLowerCase(),\n      attr = {},\n      propsInSyncWithParent = []\n\n  if (fn && root._tag) {\n    root._tag.unmount(true)\n  }\n\n  // not yet mounted\n  this.isMounted = false\n  root.isLoop = isLoop\n\n  // keep a reference to the tag just created\n  // so we will be able to mount this tag multiple times\n  root._tag = this\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  this._id = __uid++\n\n  extend(this, { parent: parent, root: root, opts: opts, tags: {} }, item)\n\n  // grab attributes\n  each(root.attributes, function(el) {\n    var val = el.value\n    // remember attributes with expressions only\n    if (brackets(/{.*}/).test(val)) attr[el.name] = val\n  })\n\n  if (dom.innerHTML && !/^(select|optgroup|table|tbody|tr|col(?:group)?)$/.test(tagName))\n    // replace all the yield tags with the tag inner html\n    dom.innerHTML = replaceYield(dom.innerHTML, innerHTML)\n\n  // options\n  function updateOpts() {\n    var ctx = hasImpl && isLoop ? self : parent || self\n\n    // update opts from current DOM attributes\n    each(root.attributes, function(el) {\n      opts[el.name] = tmpl(el.value, ctx)\n    })\n    // recover those with expressions\n    each(Object.keys(attr), function(name) {\n      opts[name] = tmpl(attr[name], ctx)\n    })\n  }\n\n  function normalizeData(data) {\n    for (var key in item) {\n      if (typeof self[key] !== T_UNDEF)\n        self[key] = data[key]\n    }\n  }\n\n  function inheritFromParent () {\n    if (!self.parent || !isLoop) return\n    each(Object.keys(self.parent), function(k) {\n      // some properties must be always in sync with the parent tag\n      var mustSync = !~RESERVED_WORDS_BLACKLIST.indexOf(k) && ~propsInSyncWithParent.indexOf(k)\n      if (typeof self[k] === T_UNDEF || mustSync) {\n        // track the property to keep in sync\n        // so we can keep it updated\n        if (!mustSync) propsInSyncWithParent.push(k)\n        self[k] = self.parent[k]\n      }\n    })\n  }\n\n  this.update = function(data) {\n    // make sure the data passed will not override\n    // the component core methods\n    data = cleanUpData(data)\n    // inherit properties from the parent\n    inheritFromParent()\n    // normalize the tag properties in case an item object was initially passed\n    if (data && typeof item === T_OBJECT) {\n      normalizeData(data)\n      item = data\n    }\n    extend(self, data)\n    updateOpts()\n    self.trigger('update', data)\n    update(expressions, self)\n    self.trigger('updated')\n  }\n\n  this.mixin = function() {\n    each(arguments, function(mix) {\n      mix = typeof mix === T_STRING ? riot.mixin(mix) : mix\n      each(Object.keys(mix), function(key) {\n        // bind methods to self\n        if (key != 'init')\n          self[key] = isFunction(mix[key]) ? mix[key].bind(self) : mix[key]\n      })\n      // init method will be called automatically\n      if (mix.init) mix.init.bind(self)()\n    })\n  }\n\n  this.mount = function() {\n\n    updateOpts()\n\n    // initialiation\n    if (fn) fn.call(self, opts)\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions(dom, self, expressions)\n\n    // mount the child tags\n    toggle(true)\n\n    // update the root adding custom attributes coming from the compiler\n    // it fixes also #1087\n    if (impl.attrs || hasImpl) {\n      walkAttributes(impl.attrs, function (k, v) { root.setAttribute(k, v) })\n      parseExpressions(self.root, self, expressions)\n    }\n\n    if (!self.parent || isLoop) self.update(item)\n\n    // internal use only, fixes #403\n    self.trigger('premount')\n\n    if (isLoop && !hasImpl) {\n      // update the root attribute for the looped elements\n      self.root = root = dom.firstChild\n\n    } else {\n      while (dom.firstChild) root.appendChild(dom.firstChild)\n      if (root.stub) self.root = root = parent.root\n    }\n    // if it's not a child tag we can trigger its mount event\n    if (!self.parent || self.parent.isMounted) {\n      self.isMounted = true\n      self.trigger('mount')\n    }\n    // otherwise we need to wait that the parent event gets triggered\n    else self.parent.one('mount', function() {\n      // avoid to trigger the `mount` event for the tags\n      // not visible included in an if statement\n      if (!isInStub(self.root)) {\n        self.parent.isMounted = self.isMounted = true\n        self.trigger('mount')\n      }\n    })\n  }\n\n\n  this.unmount = function(keepRootTag) {\n    var el = root,\n        p = el.parentNode,\n        ptag\n\n    if (p) {\n\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent)\n        // remove this tag from the parent tags object\n        // if there are multiple nested tags with same name..\n        // remove this element form the array\n        if (isArray(ptag.tags[tagName]))\n          each(ptag.tags[tagName], function(tag, i) {\n            if (tag._id == self._id)\n              ptag.tags[tagName].splice(i, 1)\n          })\n        else\n          // otherwise just delete the tag instance\n          ptag.tags[tagName] = undefined\n      }\n\n      else\n        while (el.firstChild) el.removeChild(el.firstChild)\n\n      if (!keepRootTag)\n        p.removeChild(el)\n      else\n        // the riot-tag attribute isn't needed anymore, remove it\n        p.removeAttribute('riot-tag')\n    }\n\n\n    self.trigger('unmount')\n    toggle()\n    self.off('*')\n    // somehow ie8 does not like `delete root._tag`\n    root._tag = null\n\n  }\n\n  function toggle(isMount) {\n\n    // mount/unmount children\n    each(childTags, function(child) { child[isMount ? 'mount' : 'unmount']() })\n\n    // listen/unlisten parent (events flow one way from parent to children)\n    if (parent) {\n      var evt = isMount ? 'on' : 'off'\n\n      // the loop tags will be always in sync with the parent automatically\n      if (isLoop)\n        parent[evt]('unmount', self.unmount)\n      else\n        parent[evt]('update', self.update)[evt]('unmount', self.unmount)\n    }\n  }\n\n  // named elements available for fn\n  parseNamedElements(dom, this, childTags)\n\n\n}\n\nfunction setEventHandler(name, handler, dom, tag) {\n\n  dom[name] = function(e) {\n\n    var item = tag._item,\n        ptag = tag.parent,\n        el\n\n    if (!item)\n      while (ptag && !item) {\n        item = ptag._item\n        ptag = ptag.parent\n      }\n\n    // cross browser event fix\n    e = e || window.event\n\n    // ignore error on some browsers\n    try {\n      e.currentTarget = dom\n      if (!e.target) e.target = e.srcElement\n      if (!e.which) e.which = e.charCode || e.keyCode\n    } catch (ignored) { /**/ }\n\n    e.item = item\n\n    // prevent default behaviour (by default)\n    if (handler.call(tag, e) !== true && !/radio|check/.test(dom.type)) {\n      if (e.preventDefault) e.preventDefault()\n      e.returnValue = false\n    }\n\n    if (!e.preventUpdate) {\n      el = item ? getImmediateCustomParentTag(ptag) : tag\n      el.update()\n    }\n\n  }\n\n}\n\n// used by if- attribute\nfunction insertTo(root, node, before) {\n  if (root) {\n    root.insertBefore(before, node)\n    root.removeChild(node)\n  }\n}\n\nfunction update(expressions, tag) {\n\n  each(expressions, function(expr, i) {\n\n    var dom = expr.dom,\n        attrName = expr.attr,\n        value = tmpl(expr.expr, tag),\n        parent = expr.dom.parentNode\n\n    if (expr.bool)\n      value = value ? attrName : false\n    else if (value == null)\n      value = ''\n\n    // leave out riot- prefixes from strings inside textarea\n    // fix #815: any value -> string\n    if (parent && parent.tagName == 'TEXTAREA') value = ('' + value).replace(/riot-/g, '')\n\n    // no change\n    if (expr.value === value) return\n    expr.value = value\n\n    // text node\n    if (!attrName) {\n      dom.nodeValue = '' + value    // #815 related\n      return\n    }\n\n    // remove original attribute\n    remAttr(dom, attrName)\n    // event handler\n    if (isFunction(value)) {\n      setEventHandler(attrName, value, dom, tag)\n\n    // if- conditional\n    } else if (attrName == 'if') {\n      var stub = expr.stub,\n          add = function() { insertTo(stub.parentNode, stub, dom) },\n          remove = function() { insertTo(dom.parentNode, dom, stub) }\n\n      // add to DOM\n      if (value) {\n        if (stub) {\n          add()\n          dom.inStub = false\n          // avoid to trigger the mount event if the tags is not visible yet\n          // maybe we can optimize this avoiding to mount the tag at all\n          if (!isInStub(dom)) {\n            walk(dom, function(el) {\n              if (el._tag && !el._tag.isMounted) el._tag.isMounted = !!el._tag.trigger('mount')\n            })\n          }\n        }\n      // remove from DOM\n      } else {\n        stub = expr.stub = stub || document.createTextNode('')\n        // if the parentNode is defined we can easily replace the tag\n        if (dom.parentNode)\n          remove()\n        else\n        // otherwise we need to wait the updated event\n          (tag.parent || tag).one('updated', remove)\n\n        dom.inStub = true\n      }\n    // show / hide\n    } else if (/^(show|hide)$/.test(attrName)) {\n      if (attrName == 'hide') value = !value\n      dom.style.display = value ? '' : 'none'\n\n    // field value\n    } else if (attrName == 'value') {\n      dom.value = value\n\n    // <img src=\"{ expr }\">\n    } else if (startsWith(attrName, RIOT_PREFIX) && attrName != RIOT_TAG) {\n      if (value)\n        dom.setAttribute(attrName.slice(RIOT_PREFIX.length), value)\n\n    } else {\n      if (expr.bool) {\n        dom[attrName] = value\n        if (!value) return\n      }\n\n      if (typeof value !== T_OBJECT) dom.setAttribute(attrName, value)\n\n    }\n\n  })\n\n}\nfunction each(els, fn) {\n  for (var i = 0, len = (els || []).length, el; i < len; i++) {\n    el = els[i]\n    // return false -> remove current item during loop\n    if (el != null && fn(el, i) === false) i--\n  }\n  return els\n}\n\nfunction isFunction(v) {\n  return typeof v === T_FUNCTION || false   // avoid IE problems\n}\n\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name)\n}\n\nfunction getTag(dom) {\n  return dom.tagName && tagImpl[dom.getAttribute(RIOT_TAG) || dom.tagName.toLowerCase()]\n}\n\nfunction initChildTag(child, dom, parent) {\n  var tag = new Tag(child, { root: dom, parent: parent }, dom.innerHTML),\n      tagName = getTagName(dom),\n      ptag = getImmediateCustomParentTag(parent),\n      cachedTag\n\n  // fix for the parent attribute in the looped elements\n  tag.parent = ptag\n\n  cachedTag = ptag.tags[tagName]\n\n  // if there are multiple children tags having the same name\n  if (cachedTag) {\n    // if the parent tags property is not yet an array\n    // create it adding the first cached tag\n    if (!isArray(cachedTag))\n      ptag.tags[tagName] = [cachedTag]\n    // add the new nested tag to the array\n    if (!~ptag.tags[tagName].indexOf(tag))\n      ptag.tags[tagName].push(tag)\n  } else {\n    ptag.tags[tagName] = tag\n  }\n\n  // empty the child node once we got its template\n  // to avoid that its children get compiled multiple times\n  dom.innerHTML = ''\n\n  return tag\n}\n\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag\n  while (!getTag(ptag.root)) {\n    if (!ptag.parent) break\n    ptag = ptag.parent\n  }\n  return ptag\n}\n\nfunction getTagName(dom) {\n  var child = getTag(dom),\n    namedTag = dom.getAttribute('name'),\n    tagName = namedTag && namedTag.indexOf(brackets(0)) < 0 ? namedTag : child ? child.name : dom.tagName.toLowerCase()\n\n  return tagName\n}\n\nfunction extend(src) {\n  var obj, args = arguments\n  for (var i = 1; i < args.length; ++i) {\n    if ((obj = args[i])) {\n      for (var key in obj) {      // eslint-disable-line guard-for-in\n        src[key] = obj[key]\n      }\n    }\n  }\n  return src\n}\n\n// with this function we avoid that the current Tag methods get overridden\nfunction cleanUpData(data) {\n  if (!(data instanceof Tag) && !(data && typeof data.trigger == T_FUNCTION)) return data\n\n  var o = {}\n  for (var key in data) {\n    if (!~RESERVED_WORDS_BLACKLIST.indexOf(key))\n      o[key] = data[key]\n  }\n  return o\n}\n\nfunction walk(dom, fn) {\n  if (dom) {\n    if (fn(dom) === false) return\n    else {\n      dom = dom.firstChild\n\n      while (dom) {\n        walk(dom, fn)\n        dom = dom.nextSibling\n      }\n    }\n  }\n}\n\n// minimize risk: only zero or one _space_ between attr & value\nfunction walkAttributes(html, fn) {\n  var m,\n      re = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g\n\n  while ((m = re.exec(html))) {\n    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n  }\n}\n\nfunction isInStub(dom) {\n  while (dom) {\n    if (dom.inStub) return true\n    dom = dom.parentNode\n  }\n  return false\n}\n\nfunction mkEl(name) {\n  return document.createElement(name)\n}\n\nfunction replaceYield(tmpl, innerHTML) {\n  return tmpl.replace(/<(yield)\\/?>(<\\/\\1>)?/gi, innerHTML || '')\n}\n\nfunction $$(selector, ctx) {\n  return (ctx || document).querySelectorAll(selector)\n}\n\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\nfunction inherit(parent) {\n  function Child() {}\n  Child.prototype = parent\n  return new Child()\n}\n\nfunction setNamed(dom, parent, keys) {\n  if (dom._visited) return\n  var p,\n      v = dom.getAttribute('id') || dom.getAttribute('name')\n\n  if (v) {\n    if (keys.indexOf(v) < 0) {\n      p = parent[v]\n      if (!p)\n        parent[v] = dom\n      else if (isArray(p))\n        p.push(dom)\n      else\n        parent[v] = [p, dom]\n    }\n    dom._visited = true\n  }\n}\n\n// faster String startsWith alternative\nfunction startsWith(src, str) {\n  return src.slice(0, str.length) === str\n}\n\n/*\n Virtual dom is an array of custom tags on the document.\n Updates and unmounts propagate downwards from parent to children.\n*/\n\nvar virtualDom = [],\n    tagImpl = {},\n    styleNode\n\nfunction injectStyle(css) {\n\n  if (riot.render) return // skip injection on the server\n\n  if (!styleNode) {\n    styleNode = mkEl('style')\n    styleNode.setAttribute('type', 'text/css')\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0]\n\n  if (styleNode.styleSheet)\n    styleNode.styleSheet.cssText += css\n  else\n    styleNode.innerHTML += css\n\n  if (!styleNode._rendered)\n    if (styleNode.styleSheet) {\n      document.body.appendChild(styleNode)\n    } else {\n      var rs = $('style[type=riot]')\n      if (rs) {\n        rs.parentNode.insertBefore(styleNode, rs)\n        rs.parentNode.removeChild(rs)\n      } else head.appendChild(styleNode)\n\n    }\n\n  styleNode._rendered = true\n\n}\n\nfunction mountTo(root, tagName, opts) {\n  var tag = tagImpl[tagName],\n      // cache the inner HTML to fix #855\n      innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n\n  // clear the inner html\n  root.innerHTML = ''\n\n  if (tag && root) tag = new Tag(tag, { root: root, opts: opts }, innerHTML)\n\n  if (tag && tag.mount) {\n    tag.mount()\n    virtualDom.push(tag)\n    return tag.on('unmount', function() {\n      virtualDom.splice(virtualDom.indexOf(tag), 1)\n    })\n  }\n\n}\n\nriot.tag = function(name, html, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs\n    if (/^[\\w\\-]+\\s?=/.test(css)) {\n      attrs = css\n      css = ''\n    } else attrs = ''\n  }\n  if (css) {\n    if (isFunction(css)) fn = css\n    else injectStyle(css)\n  }\n  tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\nriot.mount = function(selector, tagName, opts) {\n\n  var els,\n      allTags,\n      tags = []\n\n  // helper functions\n\n  function addRiotTags(arr) {\n    var list = ''\n    each(arr, function (e) {\n      list += ', *[' + RIOT_TAG + '=\"' + e.trim() + '\"]'\n    })\n    return list\n  }\n\n  function selectAllTags() {\n    var keys = Object.keys(tagImpl)\n    return keys + addRiotTags(keys)\n  }\n\n  function pushTags(root) {\n    var last\n    if (root.tagName) {\n      if (tagName && (!(last = root.getAttribute(RIOT_TAG)) || last != tagName))\n        root.setAttribute(RIOT_TAG, tagName)\n\n      var tag = mountTo(root,\n        tagName || root.getAttribute(RIOT_TAG) || root.tagName.toLowerCase(), opts)\n\n      if (tag) tags.push(tag)\n    }\n    else if (root.length) {\n      each(root, pushTags)   // assume nodeList\n    }\n  }\n\n  // ----- mount code -----\n\n  if (typeof tagName === T_OBJECT) {\n    opts = tagName\n    tagName = 0\n  }\n\n  // crawl the DOM to find the tag\n  if (typeof selector === T_STRING) {\n    if (selector === '*')\n      // select all the tags registered\n      // and also the tags found with the riot-tag attribute set\n      selector = allTags = selectAllTags()\n    else\n      // or just the ones named like the selector\n      selector += addRiotTags(selector.split(','))\n\n    els = $$(selector)\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    els = selector\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectAllTags()\n    // if the root els it's just a single tag\n    if (els.tagName)\n      els = $$(tagName, els)\n    else {\n      // select all the children for all the different root elements\n      var nodeList = []\n      each(els, function (_el) {\n        nodeList.push($$(tagName, _el))\n      })\n      els = nodeList\n    }\n    // get rid of the tagName\n    tagName = 0\n  }\n\n  if (els.tagName)\n    pushTags(els)\n  else\n    each(els, pushTags)\n\n  return tags\n}\n\n// update everything\nriot.update = function() {\n  return each(virtualDom, function(tag) {\n    tag.update()\n  })\n}\n\n// @deprecated\nriot.mountTo = riot.mount\n\n  // share methods for other riot parts, e.g. compiler\n  riot.util = { brackets: brackets, tmpl: tmpl }\n\n  // support CommonJS, AMD & browser\n  /* istanbul ignore next */\n  if (typeof exports === T_OBJECT)\n    module.exports = riot\n  else if (typeof define === 'function' && define.amd)\n    define(function() { return (window.riot = riot) })\n  else\n    window.riot = riot\n\n})(typeof window != 'undefined' ? window : void 0);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/riot/riot.js\n ** module id = 1\n ** module chunks = 0\n **/","var RiotControl = {\n  _stores: [],\n  addStore: function(store) {\n    this._stores.push(store);\n  }\n};\n\n['on','one','off','trigger'].forEach(function(api){\n  RiotControl[api] = function() {\n    var args = [].slice.call(arguments);\n    this._stores.forEach(function(el){\n      el[api].apply(null, args);\n    });\n  };\n});\n\nif (typeof(module) !== 'undefined') module.exports = RiotControl;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/riotcontrol/riotcontrol.js\n ** module id = 2\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/less-loader/index.js!./pte.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/less-loader/index.js!./pte.less\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/less-loader/index.js!./pte.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/pte.less\n ** module id = 3\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\n  position: relative;\\n}\\n.no-title .ui-dialog-title,\\n.no-title .ui-dialog-titlebar-close {\\n  display: none;\\n}\\n.inline {\\n  display: inline-block;\\n}\\n.no-title .ui-dialog-titlebar {\\n  height: 0;\\n}\\n#pte-spinner {\\n  text-align: center;\\n}\\npte-editor {\\n  display: block;\\n  margin: 20px;\\n  position: relative;\\n}\\n#pte-editor-main {\\n  display: block;\\n  width: auto;\\n  height: 100px;\\n  margin-right: 60px;\\n  position: relative;\\n}\\n#pte-editor-main #pte-editor-image,\\n#pte-editor-main #actions {\\n  width: 100%;\\n}\\n#pte-editor-main #actions {\\n  text-align: right;\\n  padding: 20px 20px 0 0;\\n}\\n#pte-editor-main #pte-editor-image {\\n  background: #DDD;\\n}\\n#pte-editor-main #pte-editor-image #image-wrapper {\\n  max-width: 100%;\\n  max-height: 100%;\\n}\\npte-editor-menu {\\n  background-color: #aaa;\\n  display: block;\\n  float: right;\\n  width: 60px;\\n  text-align: center;\\n}\\npte-editor-menu ul {\\n  padding: 0;\\n  list-style-type: none;\\n}\\npte-editor-menu ul li {\\n  padding-bottom: 10px;\\n}\\n/* Post Thumbnail Selector */\\npte-thumbnail-selector {\\n  display: block;\\n  padding: 0 !important;\\n  margin: 20px;\\n}\\npte-thumbnail-selector h2 {\\n  margin-top: 0;\\n}\\npte-thumbnail-selector h2 span {\\n  font-size: .6em;\\n  font-weight: normal;\\n}\\n.table-div,\\n.qs-div {\\n  width: 49%;\\n  vertical-align: top;\\n}\\n.table {\\n  width: 100%;\\n  border-spacing: 0;\\n  border-collapse: collapse;\\n  text-align: left;\\n}\\n.table tbody {\\n  cursor: pointer;\\n}\\n.table th,\\n.table td {\\n  border-bottom: 2px #d1d1d1 solid;\\n  padding: 8px 12px;\\n}\\n.table td {\\n  border-bottom: 1px #d4d4d4 solid;\\n}\\n.table tr.selected {\\n  background-color: #ebffeb;\\n}\\n.table.table-striped tbody tr:nth-child(2n+1) {\\n  background-color: #f3f3f3;\\n}\\n.table.table-striped tbody tr:nth-child(2n+1).selected {\\n  background-color: #dbffdb;\\n}\\n.table.table-bordered {\\n  border: 1px #CCC solid;\\n}\\n.table.table-bordered td,\\n.table.table-bordered th {\\n  border: 1px #CCC solid;\\n}\\n.table .r {\\n  text-align: right;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/less-loader!./src/pte.less\n ** module id = 4\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 5\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\n\nvar riot = require('riot')\nvar pte = require('./pte-constants')\nvar rc = require('riotcontrol')\nvar $ = require('jQuery')\n\nlet html = `\n<div id=\"pte-spinner\"><i class=\"fa fa-5x fa-spin fa-refresh\"></i></div>\n<pte-editor></pte-editor>\n<pte-thumbnail-selector store={opts.store}></pte-thumbnail-selector>\n<pte-instructions></pte-instructions>\n<pte-confirmation></pte-confirmation>\n`\n\nmodule.exports = riot.tag('pte-app', html, function (opts) {\n  this.loaded = false\n\n  this.on('mount', () => {\n    $('#pte-spinner').dialog({\n      closeOnEscape: false,\n      modal: true,\n      width: 80,\n      height: 114,\n      resizable: false,\n      draggable: false,\n      dialogClass: 'no-title'\n    })\n    rc.trigger(pte.events.APP_STARTED)\n  })\n\n  rc.on(pte.events.DATA_LOADED, () => {\n    $('#pte-spinner').dialog('close')\n    console.log(\"DATA_LOADED received\")\n    this.loaded = true\n    this.update()\n  });\n\n  rc.on(pte.events.DATA_UPDATED, () => {\n    this.update()\n  })\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pte-app.js\n **/","'use strict';\n\nexport const events = {\n  APP_STARTED: 'APP_STARTED',\n  DATA_LOADED: 'DATA_LOADED',\n  DATA_UPDATED: 'DATA_UPDATED',\n  TOGGLE_THUMB_SELECTOR: 'TOGGLE_THUMB_SELECTOR',\n  SELECT_THUMB: 'SELECT_THUMB'\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pte-constants.js\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 9\n ** module chunks = 0\n **/","'use strict';\n\nvar events = require('./pte-constants').events\nvar riot = require('riot')\nvar rc = require('riotcontrol')\nvar $ = require('jQuery')\n\nlet html = `\n<pte-editor-menu></pte-editor-menu>\n<div id=\"pte-editor-main\">\n  <div id=\"pte-editor-image\">\n    <div id=\"image-wrapper\">\n      <img src=\"{ data && data.img.url || '' }\" alt=\"\" width=\"{ width }\" height=\"{ height }\">\n    </div>\n  </div>\n  <div id=\"actions\" class=\"wp-core-ui\">\n    <button class=\"button-primary\">CropText</button>\n  </div>\n</div>\n`\n\nlet jcrop = null\nlet jcrop_options = {}\n\nfunction getLargestBox (ratio, w, h) {\n  if ((w/h) > ratio)\n    return [h * ratio, h]\n  else\n    return [w, w / ratio]\n}\n\nlet tag = riot.tag('pte-editor', html, function (opts) {\n\n  let mounted = false\n\n  this.resize = () => {\n    /*\n     * Determine how big the image pane can be.\n     * HEIGHT:\n     * 40px (2 x 20px margin for editor)\n     * - height of #actions\n     * WIDTH:\n     * should just be the width of #pte-editor-main\n     */\n    var $imgDiv = $('#pte-editor-image', this.root)\n    var height = $(window).innerHeight()\n        - $('#actions', this.root).outerHeight(true)\n        - 40;\n    $imgDiv.height(height)\n\n    if ( ! mounted || ! this.data) {\n      return\n    }\n\n    let tw = Math.min($imgDiv.width(), this.data.img.width)\n    let th = Math.min(height, this.data.img.height)\n    let [w, h] = getLargestBox(this.data.img.width/this.data.img.height, tw, th)\n    this.width = w\n    this.height = h\n\n    $('#image-wrapper', this.root)\n    .width(w)\n    .height(h)\n    .position({\n      my: 'center center',\n      at: 'center center',\n      of: '#pte-editor-image',\n      collision: 'none'\n    })\n  }\n\n  rc.on(events.DATA_LOADED, (data) => {\n    // change the image src/width/height\n    this.data = data\n    this.update()\n\n    $('img', this.root).Jcrop({\n      boxHeight: this.height,\n      boxWidth: this.width\n    }, function(){\n      jcrop = this\n      jcrop.container.on('cropend', (e,s,c) => {\n        console.log([e,s,c])\n      })\n    })\n  })\n\n  rc.on(events.DATA_UPDATED, () => {\n    // Set the aspect ratio?\n    let thumbs = this.data.thumb.filter(t => {\n      return t.selected\n    })\n  })\n\n  this.on('mount', () => {\n    console.log('set the image dimensions of the image')\n    mounted = true\n  })\n\n  this.on('update', () => {\n    console.log('pte-editor updated');\n    this.resize();\n  })\n\n  $(window).resize(() => {\n    this.update()\n  })\n\n});\n\nexport default tag\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pte-editor.js\n **/","'use strict';\n\nvar events = require('./pte-constants').events\nvar riot = require('riot')\nvar rc = require('riotcontrol')\nvar $ = require('jQuery')\n\nlet html = `\n<ul>\n  <li><a title=\"Choose Thumbnails\" onclick=\"{ showThumbnailSelector }\">\n    <i class=\"fa fa-bars\"></i>\n  </a></li>\n  <li><a title=\"Show Options\" onclick={ showOptions }>\n    <i class=\"fa fa-cogs\"></i>\n  </a></li>\n  <li><a title=\"Show Thumbnails\" onclick={ showThumbnails }>\n    <i class=\"fa fa-picture-o\"></i>\n  </a></li>\n</ul>\n`\n\nlet tag = riot.tag('pte-editor-menu', html, function (opts) {\n  this.showThumbnailSelector = (e) => {\n    console.log('show thumbnail selector');\n    rc.trigger(events.TOGGLE_THUMB_SELECTOR);\n  }\n\n  this.on('mount', () => {\n    $('a', this.root).button();\n  })\n});\n\nexport default tag\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pte-editor-menu.js\n **/","'use strict';\n\nvar riot = require('riot')\nvar rc = require('riotcontrol')\nvar events = require('./pte-constants').events\nvar $ = require('jQuery')\n\nfunction roundToTwo(num) {    \n  return +(Math.round(num + \"e+2\")  + \"e-2\");\n}\n\nfunction toggle (thumbs) {\n  let value = true\n  let items = thumbs.filter(t => {\n    return t.selected\n  })\n\n  if (items.length == thumbs.length){\n    value = false\n  }\n\n  rc.trigger(events.SELECT_THUMB, thumbs, value)\n}\n\n\nlet html = `<div>\n  <div class=\"inline qs-div\">\n    <h2>Quick Select <span><a href=\"#\" onclick=\"{ toggleAll }\">All</a></span></h2>\n    <p>These thumbnails share the same aspect ratio. Clicking them will toggle their selection</p>\n    <ul>\n      <li each=\"{ ratioGroups }\"><a href=\"\" onclick=\"{ toggleAR }\">{ parent.printRGNames(this.ratios) }</a></li>\n    </ul>\n  </div>\n  <div class=\"inline table-div\">\n    <table class='table table-striped'>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th class=\"r\">Width</th>\n          <th class=\"r\">Height</th>\n          <th class=\"r\">Crop</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr each=\"{ thumbnails }\" class=\"{ selected: selected }\" onclick=\"{ toggleThumb }\">\n          <td>{ size.label }</td>\n          <td class=\"r\">{ size.width }</td>\n          <td class=\"r\">{ size.height }</td>\n          <td class=\"r\">{ size.crop ? 'Yes' : 'No' }</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n`\n\nlet tag = riot.tag('pte-thumbnail-selector', html, function (opts) {\n  this.printRGNames = (ratioGroup) => {\n    return ratioGroup.map(t => {\n      return t.size.label\n    }).join(', ')\n  }\n\n  this.toggleAR =  (e) => {\n    toggle(e.item.ratios)\n    e.preventUpdate = true\n  }\n\n  this.toggleAll = (e) => {\n    toggle(this.thumbnails)\n    e.preventUpdate = true\n  }\n\n  this.toggleThumb = (e) => {\n    rc.trigger(events.SELECT_THUMB, [e.item], ! e.item.selected)\n    e.preventUpdate = true\n  }\n\n  this.on('mount', () => {\n    $('h2 a').button()\n    $(this.root).dialog({\n      autoOpen: false,\n      buttons: {\n        'OK': function() {\n          $(this).dialog('close')\n        }\n      },\n      minHeight: 300,\n      modal: true,\n      title: 'Thumbnails — Click the ones you want to edit',\n      width: 650\n    })\n  })\n\n  rc.on(events.DATA_LOADED, (data) => {\n    let ratios = data.thumb\n    // Only get those with properly defined data\n    .filter(t => {\n      return t.size.width > 0 && t.size.height > 0 && t.size.crop\n    })\n    // Change the thumbnail to a ratio\n    .map(t => {\n      return roundToTwo(t.size.width / t.size.height)\n    })\n    // Keep the unique ratios\n    .filter((r,i,s) => {\n      return s.indexOf(r) === i\n    })\n\n    let ratioGroups = []\n    ratios.forEach(r => {\n      let ratioGroup = []\n      data.thumb.forEach(t => {\n        if (! t.size.width || ! t.size.height || ! t.size.crop)\n          return\n        if (r - 0.01 < t.size.width / t.size.height &&\n            r + 0.01 > t.size.width / t.size.height) {\n          ratioGroup.push(t)\n        }\n      })\n      ratioGroups.push({ratios: ratioGroup})\n    })\n\n    this.update({thumbnails: data.thumb, ratioGroups: ratioGroups})\n  })\n\n  rc.on([events.DATA_LOADED, events.TOGGLE_THUMB_SELECTOR].join(' '), () => {\n    if ($(this.root).dialog('isOpen'))\n      $(this.root).dialog('close')\n    else\n      $(this.root).dialog('open')\n  })\n\n  this.on('update', () => {\n    console.log('pte-thumbnail-selector updated');\n  })\n})\n\nexport default tag\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pte-thumbnail-selector.js\n **/","'use client';\n\nvar riot = require('riot')\nvar events = require('./pte-constants.js').events\nvar $ = require('jQuery')\n\nvar data = {}\n\nfunction getUrl(action, ...args) {\n  let url = `./admin-ajax.php?action=pte_api&pte-action=${action}`\n  return url + '&' + args.join('&')\n}\n\nlet PteStore = function () {\n  riot.observable(this);\n\n  this.init = () => {\n    getData()\n  }\n\n  let getData = () => {\n    let id = /(id=\\d+)/.exec(window.location.search)[0]\n    let info_url = getUrl('get-image-info', id) \n    let thumb_url = getUrl('get-thumbnail-info', id) \n    $.when($.getJSON(info_url), $.getJSON(thumb_url))\n    .done((i_data, t_data) => {\n      $.extend(data, {\n        img: i_data[0],\n        thumb: t_data[0]\n      })\n      this.trigger(events.DATA_LOADED, data)\n    })\n  }\n\n  this.on(events.SELECT_THUMB, (thumbs, value) => {\n    thumbs.forEach(thumb => {\n      thumb.selected = (value) ? true : false;\n    })\n    this.trigger(events.DATA_UPDATED)\n  })\n  //(global || window).setTimeout(() => {\n  //    console.log('Trigger DATA_LOADED');\n  //    this.trigger(events.DATA_LOADED);\n  //}, 1000);\n}\n\nexport default PteStore;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pte-store.js\n **/"],"sourceRoot":""}